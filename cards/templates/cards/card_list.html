{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="mt-3" style="display: flex; align-items: center; justify-content: flex-end;">
  <a href="new/" style="color:rgb(61, 60, 60); margin-right: 15px;"><i class="fa-solid fa-square-plus fa-2xl"></i></a>
  <div class="dropdown-center">
    <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
      Buscar &nbsp;&nbsp;<i class="fa-solid fa-magnifying-glass"></i>
    </button>
    <ul class="dropdown-menu p-3" style="margin: 15px;">
      <form method="get" action="{% url 'tablero' %}">
        {{form.as_p}}
        <input type="submit" value="Filtrar" class="btn btn-success btn-sm">
      </form>
    </ul>
  </div>
</div>
<br>



  <div class="row mt-3">
    {% for card in cards %}
        <div class="col-md-4 mt-3">
          {% if card.color == 0 %}
            <div class="card" style="background-color:#B6D7A8;">
              <div class="card-title" style="background-color:#77d74d;color: #77d74d;">t</div>
          {% elif card.color == 1 %}
            <div class="card" style="background-color:#D9D2E9;">
              <div class="card-title" style="background-color:#9372e0;color: #9372e0;">t</div>
          {% elif card.color == 2 %}
            <div class="card" style="background-color: #F4CCCC;">
              <div class="card-title" style="background-color:#f7a7a7;color: #f7a7a7;">t</div>
          {% elif card.color == 3 %}
            <div class="card" style="background-color:#C9DAF8;">
              <div class="card-title" style="background-color:#96baf7;color: #96baf7;">t</div>
          {% elif card.color == 4 %}
            <div class="card" style="background-color: #D5A6BD;">
              <div class="card-title" style="background-color:#d182a8;color: #d182a8;">t</div>
          {% elif card.color == 5 %}
            <div class="card" style="background-color:#FFF2CC;">
              <div class="card-title" style="background-color:#92d774;color: #92d774;">t</div>
          {% endif %}
              <div class="card-body">
                <h6 class="card-subtitle text-end text-body-secondary">{{card.date}}</h6>
                <div class="tbox">
                  <h5 class="card-title p-1">{{card.title}}</h5>
                </div>

                <div class="background" style="color: #000000;">

                    <p style="color: #000000;padding: 2px;">{{card.content}}</p>

                </div>
                <div class="mt-2" style="float:right">
                  <a href="{% url 'delete_card' card.pk %}" style="color:rgb(61, 60, 60)"><i class="fas fa-trash"></i></a>
                  <a href="{% url 'update_card' card.pk %}" class="ml-3" style="color:rgb(60, 60, 60)"><i class="fas fa-edit"></i></a>

                </div>
              </div>
            </div>
        </div>

  {% endfor %}

  </div>
          <br>
          <p>
            {% if is_paginated %}
          <nav class="navbar navbar-expand-sm justify-content-center">
            <ul class="pagination">
              {% if page_obj.has_previous %}
              <li class="page-item"><a class="page-link" href="?page={{page_obj.previous_page_number}}">&laquo;</a></li>

              {% else %}
              <li class="page-item disabled"><a class="page-link" href="#">&laquo;</a></li>
              {% endif %}
              {% for i in paginator.page_range %}
              <li class="page-item {% if page_obj.number == forloop.counter %}active{% endif %}">
                <a class="page-link" href="?page={{forloop.counter}}">{{forloop.counter}}</a>
              </li>
              {% endfor %}
              {% if page_obj.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{page_obj.next_page_number}}" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
              {% else %}
              <li class="page-item disabled"><a class="page-link" href="#">&raquo;</a></li>
              {% endif %}
            </ul>
          </nav>

          {% endif %}

          {% endblock %}